<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Stockify ë³´ê³ ì„œ í…ŒìŠ¤íŠ¸</title>
</head>
<body>
<h2>ğŸ“Š Stockify ë³´ê³ ì„œ ìƒì„± í…ŒìŠ¤íŠ¸</h2>

<label>ë³´ê³ ì„œ ìœ í˜•:</label>
<select id="type">
    <option value="WEEKLY_REPORT">ì£¼ê°„ ë³´ê³ ì„œ</option>
    <option value="MONTHLY_REPORT">ì›”ê°„ ë³´ê³ ì„œ</option>
    <option value="SALES_PREDICTION">ë§¤ì¶œ ì˜ˆì¸¡</option>
</select><br><br>

<label>ì°½ê³  ID:</label>
<input type="number" id="warehouseId" value="1"><br><br>

<label>ì‹œì‘ì¼:</label>
<input type="date" id="start"><br><br>

<label>ì¢…ë£Œì¼:</label>
<input type="date" id="end"><br><br>

<button onclick="requestReport()">ë³´ê³ ì„œ ìƒì„± ìš”ì²­</button>

<hr>
<h3>ğŸ“„ ë³´ê³ ì„œ ê²°ê³¼:</h3>
<pre id="output" style="white-space: pre-wrap; background: #f5f5f5; padding: 1em;"></pre>

<script>
    async function requestReport() {
      const payload = {
        type: document.getElementById('type').value,
        warehouseId: Number(document.getElementById('warehouseId').value),
        periodStart: document.getElementById('start').value,
        periodEnd: document.getElementById('end').value
      };

      const response = await fetch("http://localhost:8080/api/reports/generate", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(payload)
      });

      const data = await response.json();
      document.getElementById('output').innerText = JSON.stringify(data, null, 2);
    }
</script>
</body>
</html>
